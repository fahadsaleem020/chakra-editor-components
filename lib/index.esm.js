import{Modal as e,ModalOverlay as t,ModalContent as l,ModalHeader as r,ModalCloseButton as n,IconButton as a,ModalBody as o,VStack as c,FormLabel as i,InputGroup as s,Input as m,HStack as u,NumberInput as d,NumberInputField as p,NumberInputStepper as E,NumberIncrementStepper as h,NumberDecrementStepper as g,Text as b,ModalFooter as f,Button as v,Drawer as w,InputRightElement as y,Flex as x,Box as C,Center as S,Spinner as k,useInterval as I,useTheme as O}from"@chakra-ui/react";import{insertYoutubeVideo as z,insertImage as P,removeUrl as M,insertUrl as V,insertVideo as A,insertTable as H}from"@chakra-editor/functions";import{useChakraEditor as L}from"@chakra-editor/provider";import T,{useState as F}from"react";import{useForm as j}from"@chakra-editor/hooks";import{generateJSON as N}from"@tiptap/react";var _={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B=T.createContext&&T.createContext(_),D=window&&window.__assign||function(){return D=Object.assign||function(e){for(var t,l=1,r=arguments.length;l<r;l++)for(var n in t=arguments[l])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},D.apply(this,arguments)},W=window&&window.__rest||function(e,t){var l={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(l[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(l[r[n]]=e[r[n]])}return l};function U(e){return e&&e.map((function(e,t){return T.createElement(e.tag,D({key:t},e.attr),U(e.child))}))}function X(e){return function(t){return T.createElement(Y,D({attr:D({},e.attr)},t),U(e.child))}}function Y(e){var t=function(t){var l,r=e.attr,n=e.size,a=e.title,o=W(e,["attr","size","title"]),c=n||t.size||"1em";return t.className&&(l=t.className),e.className&&(l=(l?l+" ":"")+e.className),T.createElement("svg",D({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:D(D({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&T.createElement("title",null,a),e.children)};return void 0!==B?T.createElement(B.Consumer,null,(function(e){return t(e)})):t(_)}function q(e){return X({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11A4.991 4.991 0 002 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"}},{tag:"path",attr:{fill:"none",d:"M0 24V0"}}]})(e)}function G(e){return X({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}}]})(e)}function J(e){return X({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}const K=({editor:w})=>{const{youtube:y}=L(),{handler:x}=j(),C=w.getAttributes("youtube").start||0,S=Math.floor(C%3600/60).toString().padStart(2,"0"),k=Math.floor(C%60).toString().padStart(2,"0");return T.createElement(e,{isOpen:y?.modalProps?.isOpen,onClose:()=>{y.modalProps.onClose()},motionPreset:"none"},T.createElement(t,null),T.createElement(l,null,T.createElement("form",{onSubmit:e=>{const t=x(e);let{mins:l,secs:r,src:n}=t;r=r>60?60:r;let a=60*l+parseInt(r);z({editor:w,src:n,start:a}),y.modalProps.onClose()}},T.createElement(r,null,"Youtube Settings"),T.createElement(n,{as:"div"},T.createElement(a,{"aria-label":"close-youtube-editor",size:"sm",variant:"ghost",onClick:y?.modalProps?.onClose,icon:T.createElement(J,{size:22})})),T.createElement(o,null,T.createElement(c,{alignItems:"start",gap:1},T.createElement(i,null,"Source"),T.createElement(s,null,T.createElement(m,{name:"src",autoFocus:!0,placeholder:"https://www.youtube.com/watch?v=vskj23kkb",defaultValue:w.getAttributes("youtube").src})),T.createElement(u,null,T.createElement(s,null,T.createElement(c,{alignItems:"start"},T.createElement(i,null,"Minutes"),T.createElement(d,{defaultValue:S,min:0,name:"mins"},T.createElement(p,null),T.createElement(E,null,T.createElement(h,null),T.createElement(g,null))))),T.createElement(c,{alignItems:"start",gap:1},T.createElement(i,null,"Seconds"),T.createElement(s,null,T.createElement(d,{defaultValue:k,min:0,max:60,name:"secs"},T.createElement(p,null),T.createElement(E,null,T.createElement(h,null),T.createElement(g,null)))))),T.createElement(b,{textAlign:"left",fontSize:"sm",color:"gray.600"},"Video start timing."))),T.createElement(f,null,T.createElement(v,{colorScheme:"blue",type:"submit"},"Embed Video")))))},Q=({children:e,id:t,...l})=>{const{drawer:r}=L(),n=R(r?.disclosureProps,t);return T.createElement(w,{isOpen:n&&n.isOpen,onClose:r?.disclosureProps.onClose,...l},e)},R=(e,t)=>!!e&&{isOpen:e.id===t&&e.isOpen},Z=({editor:u})=>{const{image:d}=L(),{handler:p}=j();return T.createElement(e,{isOpen:d?.modalProps?.isOpen,onClose:()=>{d.modalProps.onClose()},motionPreset:"none"},T.createElement(t,null),T.createElement(l,null,T.createElement("form",{onSubmit:e=>{const t=p(e);P({editor:u,...t}),d.modalProps.onClose()}},T.createElement(r,null,"Image Settings"),T.createElement(n,{as:"div"},T.createElement(a,{"aria-label":"close-image-editor",size:"sm",variant:"ghost",onClick:d?.modalProps?.onClose,icon:T.createElement(J,{size:22})})),T.createElement(o,null,T.createElement(c,{gap:1,alignItems:"start"},T.createElement(i,null,"Source"),T.createElement(s,null,T.createElement(m,{name:"src",autoFocus:!0,placeholder:"example.com/image.png",defaultValue:u.getAttributes("image").src})),T.createElement(i,null,"Title"),T.createElement(s,null,T.createElement(m,{name:"title",placeholder:"Donal trump, Adolf hitler, banana",defaultValue:u.getAttributes("image").title})),T.createElement(i,null,"Alternative Text"),T.createElement(s,null,T.createElement(m,{name:"alt",placeholder:"disregard, peaceful, contentful",defaultValue:u.getAttributes("image").alt})))),T.createElement(f,null,T.createElement(v,{colorScheme:"blue",type:"submit",mr:2},"Set Image")))))},$=({editor:e,isVisible:t,SetIsVisible:l})=>{const{handler:r}=j();if(!t)return null;return T.createElement("form",{onSubmit:t=>{const n=r(t);V({editor:e,...n}),l(!1)}},T.createElement(s,{w:"xs"},T.createElement(m,{name:"url",autoFocus:!0,pr:"4.5rem",placeholder:"www.example.com",defaultValue:e.getAttributes("link").href}),T.createElement(y,{width:"5rem"},T.createElement(a,{"aria-label":"link-done",icon:T.createElement(G,{size:17}),size:"sm",mr:"1",type:"submit"}),T.createElement(a,{icon:T.createElement(q,{size:17}),"aria-label":"remove-link",size:"sm",onClick:()=>{l(!1),M({editor:e})},type:"button"}))))},ee=({children:t,id:l,...r})=>{const{modal:n}=L(),a=te(n?.disclosureProps,l);return T.createElement(e,{isOpen:a&&a.isOpen,onClose:n?.disclosureProps.onClose,...r},t)},te=(e,t)=>!!e&&{isOpen:e.id===t&&e.isOpen},le=({editor:u})=>{const{video:d}=L(),{handler:p}=j();return T.createElement(e,{isOpen:d?.modalProps?.isOpen,onClose:()=>{d.modalProps.onClose()},motionPreset:"none"},T.createElement(t,null),T.createElement(l,null,T.createElement("form",{onSubmit:e=>{const t=p(e);A({editor:u,...t}),d.modalProps.onClose()}},T.createElement(r,null,"Video Settings"),T.createElement(n,{as:"div"},T.createElement(a,{"aria-label":"close-video-editor",size:"sm",variant:"ghost",onClick:d?.modalProps?.onClose,icon:T.createElement(J,{size:22})})),T.createElement(o,null,T.createElement(c,{gap:1,alignItems:"start"},T.createElement(i,null,"Source"),T.createElement(s,null,T.createElement(m,{name:"src",autoFocus:!0,placeholder:"example.com/video.mp4",defaultValue:u.getAttributes("video").src})),T.createElement(i,null,"Title"),T.createElement(s,null,T.createElement(m,{name:"title",placeholder:"Donal trump, Adolf hitler, banana",defaultValue:u.getAttributes("video").title})))),T.createElement(f,null,T.createElement(v,{colorScheme:"blue",type:"submit",mr:2},"Set Video")))))},re=({table:e,matrix:t,editor:l,withHeader:r,updateTable:n,updateMatrix:a,setWithHeader:o,...c})=>T.createElement("div",null,e.length&&e.flatMap(((e,o)=>T.createElement(ne,{key:o,editor:l,columns:e,rowIndex:o,withHeader:r,updateTable:n,matrix:[t,a],...c})))),ne=({matrix:e,editor:t,columns:l,rowIndex:r,withHeader:n,updateTable:a,...o})=>T.createElement(x,null,l.flatMap(((l,c)=>T.createElement(ae,{key:c,editor:t,matrix:e,rowIndex:r,cellIndex:c,withHeader:n,attributes:l,updateTable:a,...o})))),ae=({attributes:{isActive:e},matrix:t,editor:l,rowIndex:r,cellIndex:n,withHeader:a,updateTable:o,...c})=>{const[{columns:i,rows:s},m]=t;return T.createElement(C,{p:c.padding||c.p||.5,cursor:"pointer",onMouseEnter:()=>{m({columns:1+n,rows:1+r}),o({type:"activate",payload:{cellIndex:n,rowIndex:r}})},onMouseLeave:()=>{m({columns:1+n,rows:1+r}),o({type:"deactivate",payload:{cellIndex:n,rowIndex:r}})},onClick:()=>H({editor:l,rows:s,columns:i,withHeader:a})},T.createElement(C,{w:5,h:5,border:c.border||"1px",borderColor:c.borderColor||"balck",...c,bg:e?c.bg||c.background||c.backgroundColor||"black":"transparent"}))},oe=({isOpen:u,onClose:d,editor:p})=>{const{handler:E}=j();return T.createElement(e,{isOpen:u,onClose:d,motionPreset:"none"},T.createElement(t,null),T.createElement(l,null,T.createElement("form",{onSubmit:e=>{const t=E(e);V({editor:p,...t}),d()}},T.createElement(r,null,"Link Settings"),T.createElement(n,{as:"div"},T.createElement(a,{"aria-label":"close-image-editor",size:"sm",variant:"ghost",onClick:d,icon:T.createElement(J,{size:22})})),T.createElement(o,null,T.createElement(c,{gap:1,alignItems:"start"},T.createElement(i,null,"Past or Add url"),T.createElement(s,null,T.createElement(m,{name:"url",autoFocus:!0,placeholder:"www.touchme.com",defaultValue:p.getAttributes("link").href})))),T.createElement(f,null,T.createElement(v,{colorScheme:"blue",type:"submit",mr:2},"Set Url")))))},ce=({spinnerStyles:e,...t})=>T.createElement(S,{h:"full",...t},T.createElement(k,{speed:"600ms",...e})),ie=({delay:e=0,children:t,extensions:l})=>{const[r,n]=F();return I((()=>{const e=localStorage.getItem("content");e&&n(N(e,l))}),e),T.createElement(T.Fragment,null,r?.content?.map(((e,l)=>T.createElement(T.Fragment,{key:l},t({content:e,attrs:e.attrs,type:e.type})))))},se=({children:e,assetArray:t,isLoading:l=!1,fallback:r="loading...",styles:n})=>{const[a,o]=F("");return l?T.createElement(T.Fragment,null,r):T.createElement(x,{wrap:"wrap",gap:"4",...n},t?.map(((t,l)=>e({src:t,selectedItem:a,setSelectedItem:o,index:l}))))},me=({children:e,selectedItem:t,setSelectedItem:l,...r})=>T.createElement(C,{position:"relative",onMouseEnter:e=>l(e.currentTarget.id),onMouseLeave:()=>l(""),...r},e),ue=({text:e,children:t,buttonContainerProps:l,...r})=>{const n=O().colors;return T.createElement(C,{bottom:"1em",left:"50%",transform:"translateX(-50%)",position:"absolute",...l},t||T.createElement(v,{leftIcon:T.createElement(G,{size:20,color:n.blue[500]}),...r},e||"Insert"))};export{me as AssetBox,se as AssetGallery,Q as Drawer,Z as ImageModal,ue as InsertButton,$ as LinkEditor,oe as LinkModal,ce as Loader,ee as Modal,re as TableComponent,le as VideoModal,ie as Watch,K as YoutubeModal};
//# sourceMappingURL=index.esm.js.map
